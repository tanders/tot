<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
<link rel="Stylesheet" type="text/css" href="../cludg.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>
articulations</title>
</head>
<body>
<div id="navbar">
<table cellspacing="0" cellpadding="0" border="0" style="width: 100%;">
<colgroup span="3">
<col width="0*"/>
<col width="0*"/>
<col width="1*"/>
</colgroup>
<tr>
<td align="left" valign="baseline">
<a href="velocity.html">
Prev:&nbsp;velocity</a>
<br/>
<a href="PWGL.html">
Next:&nbsp;PWGL</a>
</td>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left" valign="baseline">
<span class="upchain">
<b>
articulations</b>
<br/>
<a href="../index.html">
Index</a>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<div class="cludg-doc-body">
<h2>
articulations
</h2>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Function summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342981">
articulate-bars</a>
</td>
<td class="summary">
sequence <em>&amp;key</em> (accent 'ten) (default '-) (parameter :articulation) (section nil)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342977">
articulation-at-beginning</a>
</td>
<td class="summary">
articulation sequence <em>&amp;key</em> (default 'default)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342978">
articulation-at-end</a>
</td>
<td class="summary">
articulation sequence <em>&amp;key</em> (default 'default)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342979">
articulation-up-to-end</a>
</td>
<td class="summary">
articulation sequence <em>&amp;key</em> (default 'default)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342974">
attribute-replace</a>
</td>
<td class="summary">
new-old-list list-of-attributes</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342973">
attribute-substitution</a>
</td>
<td class="summary">
new old list-of-attributes</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342972">
disassemble-articulations</a>
</td>
<td class="summary">
art</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342976">
get-full-articulations</a>
</td>
<td class="summary">
sequence</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342971">
merge-articulations</a>
</td>
<td class="summary">
arts <em>&amp;key</em> (empty-articulations '(- default))</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342982">
omn-replace-articulation</a>
</td>
<td class="summary">
new sequence</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342980">
text-attribute</a>
</td>
<td class="summary">
<em>&amp;rest</em> args</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="articulations.html#_g342975">
zip-articulations</a>
</td>
<td class="summary">
<em>&amp;rest</em> arts</td>
</tr>
</table>
<div class="defun">
<div class="defunsignatures">
<a id="_g342971">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
merge-articulations&nbsp;&nbsp;</td>
<td class="lambda-list">
arts <em>&amp;key</em> (empty-articulations '(- default))</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Merges list of OMN articulations to a combined attribute. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
arts: a list of OMN articulations 
 </p>
</li>
<li>
<p>
empty-attributes: articulations to ignore in a combination. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<pre>
    (merge-articulations '(ten ponte ubow)) 
     =&gt; ten+ponte+ubow </pre>
<p>
</p>
<pre>
    (merge-articulations '(- stacc)) 
     =&gt; stacc </pre>
<p>
</p>
<pre>
    (merge-articulations '(default default)) 
     =&gt; default </pre>
<p>
</p>
<pre>
    (merge-articulations '(- -)) 
     =&gt; -   </pre>
<p>
NOTE: Meanwhile there is a buildin function join-attributes, which replaces this function. 
 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342972">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
disassemble-articulations&nbsp;&nbsp;</td>
<td class="lambda-list">
art</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Splits a combined OMN articulations into a list of its individual attributes. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (disassemble-articulations 'leg+ponte) 
     =&gt; (leg ponte) </pre>
<p>
NOTE: Meanwhile there is a buildin function disjoin-attributes, which replaces this function. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342973">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
attribute-substitution&nbsp;&nbsp;</td>
<td class="lambda-list">
new old list-of-attributes</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Substitute all instances of `old' with `new' in `list-of-attributes' 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (attribute-substitution 'pizz 'arco '(ten+arco pizz arco)) </pre>
<p>
=&gt; (ten+pizz pizz pizz) 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342974">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
attribute-replace&nbsp;&nbsp;</td>
<td class="lambda-list">
new-old-list list-of-attributes</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342975">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
zip-articulations&nbsp;&nbsp;</td>
<td class="lambda-list">
<em>&amp;rest</em> arts</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Expects lists of articulations and combines them to a single list of merged articulations. Shorter lists are circled to the length of the longest. 
 </p>
<p>
If arts are list of lists, the result follows the nesting organisation of the first list. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (zip-articulations '(default leg leg default) '(breathy)) 
     (zip-articulations '(- leg leg -) '(breathy)) 
     (zip-articulations '(- leg leg -) '(-)) 
     =&gt; (breathy leg+breathy leg+breathy breathy) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342976">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
get-full-articulations&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
[Aux function] Similar to (omn <span class="keyword">
:articulation </span>
sequence), but the result includes `leg' and `gliss' symbols for legato 'articulation', which are handled seperately by the function `omn'. 
 </p>
<p>
NOTE: as the implementation of omn is not necessarily stable, this function is breakable. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (get-full-articulations '((q g4 leg+gliss q a4 leg q b4 stacc) 
                               (q c4 ten q c5 trem) 
                               )) 
     =&gt; ((leg+gliss leg stacc) (ten trem)) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342977">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
articulation-at-beginning&nbsp;&nbsp;</td>
<td class="lambda-list">
articulation sequence <em>&amp;key</em> (default 'default)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns a list of articulations spanning the given `sequence' (can be nested) with `articulation' at the beginning and `default' for the rest. 
 
 </p>
<h4>
Examples: </h4>
<pre>
    (articulation-at-beginning 'pizz '((q q e e) (h.))) 
     =&gt; ((pizz default default default) (default)) </pre>
<p>
BUG: May not work for OMN sequence. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342978">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
articulation-at-end&nbsp;&nbsp;</td>
<td class="lambda-list">
articulation sequence <em>&amp;key</em> (default 'default)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns a list of articulations spanning the given `sequence' (can be nested) with `articulation' at the beginning and `default' for the rest. 
 
 </p>
<h4>
Examples: </h4>
<pre>
    (articulation-at-end 'pizz '((q q e e) (h.))) 
     =&gt; ((pizz default default default) (default)) </pre>
<p>
</p>
<h4>
BUGS: </h4>
<ul>
<li>
<p>
Does not work if last element in sequence is a rest. 
 </p>
</li>
<li>
<p>
May not work for OMN sequence. 
 </p>
</li>
</ul>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342979">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
articulation-up-to-end&nbsp;&nbsp;</td>
<td class="lambda-list">
articulation sequence <em>&amp;key</em> (default 'default)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns a list of articulations spanning the given `sequence' (can be nested) with `articulation' from the beginning to the but-last tone, which carries the default. This is useful for legato slurs over a sublist. 
 
 </p>
<h4>
Examples: </h4>
<pre>
    (articulation-up-to-end 'leg '((q q e e) (q q))) 
     =&gt; ((leg leg leg leg) (leg default)) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342980">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
text-attribute&nbsp;&nbsp;</td>
<td class="lambda-list">
<em>&amp;rest</em> args</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Convenient addition of arbitrary text directly the the score. Function transforms an arbitrary symbol, number or string or a list of symbols, numbers and strings into a an articulation symbol that is implicitly registered and can directly be added to an OMN note. 
 </p>
<p>
Definition currently only works with multiple integers or floats. 
 
 </p>
<h4>
Examples: </h4>
<pre>
    (text-attribute -7 2 13) 
     =&gt; -7+2+13 </pre>
<p>
</p>
<pre>
    (text-attribute 3.14 42) 
     =&gt; 3.14+42 </pre>
<p>
</p>
<h4>
BUGS: </h4>
<p>
All these examples are not working. 
 </p>
<pre>
    (text-attribute &quot;this is a test&quot;) 
     (text-attribute 42) 
     (text-attribute 'parameters -7 2 13) 
     (text-attribute -7 3.14 16 1/3) </pre>
<p>

 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342981">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
articulate-bars&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence <em>&amp;key</em> (accent 'ten) (default '-) (parameter :articulation) (section nil)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Add articulations at the first notes of bars (sublists), e.g, a tenuto on every first beat, and staccato otherwise. 
 
 </p>
<h4>
Arguments: </h4>
<p>
</p>
<ul>
<li>
<p>
sequence (sequence of length values or full OMN expression, must be nested): an accent is positioned on every first note in a bar (sublist). 
 </p>
</li>
<li>
<p>
parameter (:articulation or :velocity): which parameter to use for the articulations 
 </p>
</li>
<li>
<p>
accent (symbol): articulation to use on first notes of bars. 
 </p>
</li>
<li>
<p>
default (symbol): articulation to use for all other notes. 
 </p>
</li>
<li>
<p>
section (list of ints): position of sublists to process. 
 </p>
</li>
</ul>
<p>
NOTE: with some rhythms and OMN input there seems to be some problem (too many accents), but workaround seems to be to use only rhythmic sequence (fractions). 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<p>
</p>
<pre>
    (articulate-bars '((h h) (q q q q) (q q q q) (-q q) (q q q q)) :accent 'marc) </pre>
<p>
An example with a tie: existing articulations are preserved. However, in that case `sequence' must be a full OMN expression (i.e. include length and pitch values). 
 </p>
<pre>
    (articulate-bars '((h c4 h) (q q q q tie) (q q q q) (-q q) (q q q q)) :accent 'marc) </pre>
<p>

 </p>
<pre>
    (articulate-bars (gen-repeat 3 '((s s s))) :accent 'f :default 'p :parameter :velocity) </pre>
<p>

 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g342982">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
omn-replace-articulation&nbsp;&nbsp;</td>
<td class="lambda-list">
new sequence</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Tmp fix for `omn-replace' for articulations, which takes ties into account. As a quick fix, this function does not support the params `section' and `exclude', but it works also for nested sequences. 
 </p>
<p>
NOTE: Function always returns a full OMN sequence, i.e., the default pitch c4 is added if no pitch is present in `sequence'. 
 </p>
</div>
</div>
</div>
<div class="cludg-footer">
Generated by&nbsp;<a href="mailto:ihatchondo@common-lisp.net" lang="en">
CLDOC</a>
- 2021-04-05 15:07:07</div>
</body>
</html>
