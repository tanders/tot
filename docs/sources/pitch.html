<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
<link rel="Stylesheet" type="text/css" href="../cludg.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>
pitch</title>
</head>
<body>
<div id="navbar">
<table cellspacing="0" cellpadding="0" border="0" style="width: 100%;">
<colgroup span="3">
<col width="0*"/>
<col width="0*"/>
<col width="1*"/>
</colgroup>
<tr>
<td align="left" valign="baseline">
<a href="rhythm.html">
Prev:&nbsp;rhythm</a>
<br/>
<a href="velocity.html">
Next:&nbsp;velocity</a>
</td>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left" valign="baseline">
<span class="upchain">
<b>
pitch</b>
<br/>
<a href="../index.html">
Index</a>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<div class="cludg-doc-body">
<h2>
pitch
</h2>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Function summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234011">
ambitus-field-fenv</a>
</td>
<td class="summary">
sequence ambitus-low ambitus-range <em>&amp;key</em> (chord-ambitus 13) section</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234009">
chord-&gt;line</a>
</td>
<td class="summary">
sequence position</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g233997">
chord-multiplication</a>
</td>
<td class="summary">
chord1 chord2</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234003">
fenv-&gt;pitches</a>
</td>
<td class="summary">
fenv n</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234004">
fenv-transpose-pitch</a>
</td>
<td class="summary">
sequence fenv <em>&amp;rest</em> args</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234010">
gen-ambitus-sequence</a>
</td>
<td class="summary">
lows highs</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234008">
line-&gt;chord</a>
</td>
<td class="summary">
sequence chord <em>&amp;key</em> (position :top) flat section</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234007">
make-is-trill-length?</a>
</td>
<td class="summary">
length</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g233994">
pc-&gt;pitch</a>
</td>
<td class="summary">
pc octave</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g233995">
pcs-&gt;chord</a>
</td>
<td class="summary">
pcs <em>&amp;optional</em> (octave 4)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g233996">
pitch-&gt;pc</a>
</td>
<td class="summary">
pitch</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234005">
pitch-retrograde-omn</a>
</td>
<td class="summary">
sequence <em>&amp;key</em> (flat t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234001">
pitches-&gt;fenv</a>
</td>
<td class="summary">
pitches</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234002">
pitches-&gt;integers-&gt;fenv</a>
</td>
<td class="summary">
pitches</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234000">
spectra-transpositions-fitting-in-scale</a>
</td>
<td class="summary">
spectra scale</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g233998">
stretch-pitches</a>
</td>
<td class="summary">
pitches factor <em>&amp;key</em> (round t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g233999">
stretch-pitches2</a>
</td>
<td class="summary">
number chord factor <em>&amp;key</em> (round t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234012">
thomassen-accents</a>
</td>
<td class="summary">
sequence <em>&amp;optional</em> (format :omn)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g234006">
trill-selected-notes</a>
</td>
<td class="summary">
sequence test <em>&amp;key</em> (interval 2) (ignore-articulations '(marc))</td>
</tr>
</table>
<div class="defun">
<div class="defunsignatures">
<a id="_g233994">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pc-&gt;pitch&nbsp;&nbsp;</td>
<td class="lambda-list">
pc octave</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Converts the pitch class `pc' into an OMN pitch in the given `octave'. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (pc-&gt;pitch 1 4) 
     =&gt; cs4 </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g233995">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pcs-&gt;chord&nbsp;&nbsp;</td>
<td class="lambda-list">
pcs <em>&amp;optional</em> (octave 4)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Expects a list of pitch class integers and returns an Opusmodus chord symbol. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (pcs-&gt;chord '(0 4 7)) 
     =&gt; c4e4g4 </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g233996">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitch-&gt;pc&nbsp;&nbsp;</td>
<td class="lambda-list">
pitch</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Converts the OMN pitch `pitch' into a pitch class integer 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g233997">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
chord-multiplication&nbsp;&nbsp;</td>
<td class="lambda-list">
chord1 chord2</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Boulez's multiplication of chords. The intervals of `chord1' are built over every pitch of `chord2'. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<p>
Over every pitch of the C-major triad (chord2) the fifths of chord1 is created. 
 </p>
<p>
</p>
<pre>
    (chord-multiplication '(d4 a4) '(c4 e4 g4)) </pre>
<p>
</p>
<h4>
Notes: </h4>
<p>
Boulez, Pierre (1963) Musikdenken heute. Schott's Söhne, Mainz. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g233998">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
stretch-pitches&nbsp;&nbsp;</td>
<td class="lambda-list">
pitches factor <em>&amp;key</em> (round t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Proportional streching/shrinking of intervals. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
pitches: list of Opusmodus pitches 
 </p>
</li>
<li>
<p>
factor (integer, float or fraction): Factor by which all but the first `pitches' are stretched or shrunk. 
 </p>
</li>
<li>
<p>
round: whether or not to round the result to semitones. Must be T for now, but in future when Opusmodus supports microtonal music this might be refined. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<p>
</p>
<pre>
    (stretch-pitches '(c4 e4 g4) 2) 
      
     (stretch-pitches '(c4 e4 g4) 1.5) 
      
     (stretch-pitches '(c4 e4 g4) 2/3)   </pre>
<p>
</p>
<h4>
Notes: </h4>
<p>
Boulez, Pierre (1963) Musikdenken heute. Schott's Söhne, Mainz. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g233999">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
stretch-pitches2&nbsp;&nbsp;</td>
<td class="lambda-list">
number chord factor <em>&amp;key</em> (round t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Creates `number' derivates from chord following a procedure suggested by Giacomo Manzoni where the chord intervals are systematically stretched or shrunk. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
number (int): number of chords to generate. 
 </p>
</li>
<li>
<p>
chord: list of Opusmodus pitches 
 </p>
</li>
<li>
<p>
factor (integer, float or fraction): controls the interval between resulting chord pitches. If 1, the first chord interval is increased by 1 semitone, the second by 2 and so on. If 2, the first interval is increased by 2 semitones, the second by 4 etc. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<p>
</p>
<pre>
    (stretch-pitches2 5 '(c4 e4 g4) 1) 
      
     (stretch-pitches2 5 '(c4 e4 g4) 1.5) </pre>
<p>
</p>
<h4>
Notes: </h4>
<p>
Series of conferences by Giacomo Manzoni at Fiesole (Florence, Italy) School of Music from 26th of June to 1st of July, 1988. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234000">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
spectra-transpositions-fitting-in-scale&nbsp;&nbsp;</td>
<td class="lambda-list">
spectra scale</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Function for generating a chord/spectral domain. Returns all transpositions of the given spectral that fit in the given scale (i.e., all their pitch classes are contained in the scale). 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
spectra (OMN chords): a list of untransposed spectra 
 </p>
</li>
<li>
<p>
scale (OMN pitch list) 
 
 </p>
</li>
</ul>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234001">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitches-&gt;fenv&nbsp;&nbsp;</td>
<td class="lambda-list">
pitches</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Translates a sequence of pitches into a fenv that linearily inerpolates between the pitches. Fenv values encode pitches by their corresponding MIDI note. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234002">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitches-&gt;integers-&gt;fenv&nbsp;&nbsp;</td>
<td class="lambda-list">
pitches</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Variant of pitches-&gt;fenv where pitches are first translated into transposition intervals before turning them into fenvs. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234003">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
fenv-&gt;pitches&nbsp;&nbsp;</td>
<td class="lambda-list">
fenv n</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Translates a fenv into a sequence of pitches. Fenv values encode pitches by their corresponding MIDI note. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234004">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
fenv-transpose-pitch&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence fenv <em>&amp;rest</em> args</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Transposes pitches in sequence by their corresponding fenv value. 
 
 </p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
sequence: (possibly nested) list of pitches or OMN expression 
 </p>
</li>
<li>
<p>
fenv: a fenv that ranges over the full sequence; mapping of notes to fenv value by position in sequence (not temporal position); intervals are specified in semitones; intervals are rounded to their closes integer 
 
 All arguments of pitch-transpose-n are supported as well. 
 </p>
</li>
</ul>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (fenv-transpose-pitch '(c4 c4 g4 g4) (fenv:linear-fenv (0 0) (1 2))) 
     =&gt; (c4 cs4 gs4 a4) </pre>
<p>
</p>
<pre>
    (fenv-transpose-pitch '(c4 c4 g4 g4) (fenv:linear-fenv (0 0) (1 2)) :ambitus '(d4 a4)) 
     =&gt; (d4 eb4 gs4 a4) </pre>
<p>
</p>
<pre>
    (fenv-transpose-pitch '((q c4 e c4 g4) (h g4)) (fenv:linear-fenv (0 0) (1 2))) 
     =&gt; ((q c4 e cs4 gs4) (h a4)) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234005">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitch-retrograde-omn&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence <em>&amp;key</em> (flat t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
My version of pitch-retrograde that is working until the original is fixed for OMN expressions with flattened input. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234006">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
trill-selected-notes&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence test <em>&amp;key</em> (interval 2) (ignore-articulations '(marc))</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Increases rhythmic interest by subdividing all notes that meet the function test and turning these into a trill. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
sequence: nested OMN sequence 
 </p>
</li>
<li>
<p>
test: function expecting four arguments of a given note, its length, pitch, velocity and articulation. 
 </p>
</li>
<li>
<p>
interval: integer specifying size and direction of trill interval (positive is up, negative is down). 
 </p>
</li>
<li>
<p>
ignore-articulations: list of articulations not to repeat at inserted notes. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<pre>
    (trill-selected-notes '((q c4 e e) (q d4 e e)) (make-is-trill-length? 'e)) 
     =&gt; ((q c4 mf 1/16 c4 mf 1/16 d4 mf 1/16 c4 mf 1/16 d4 mf) (q d4 mf 1/16 d4 mf 1/16 e4 mf 1/16 d4 mf 1/16 e4 mf)) </pre>
<p>

 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234007">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
make-is-trill-length?&nbsp;&nbsp;</td>
<td class="lambda-list">
length</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
[Helper function for trill-selected-notes] Returns a function to be used as `test' argument for function `trill-selected-notes'. The returned function returns true for all notes of the given `length'. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234008">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
line-&gt;chord&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence chord <em>&amp;key</em> (position :top) flat section</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Builds `chord' over every note in `sequence'. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<p>
</p>
<ul>
<li>
<p>
sequence (OMN sequence) 
 </p>
</li>
<li>
<p>
chord (OMN chord or list of chords): in the latter case, the chords are circled through. 
 </p>
</li>
<li>
<p>
position (either <span class="keyword">
:top </span>
or :bottom): whether the pitches of `sequence' are the top or bottom pitch of the transposed chords. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<p>
</p>
<pre>
    (line-&gt;chord '(h c4 ten q d4 stacc e4 stacc) 'c4e4g4) </pre>
<p>
</p>
<pre>
    (line-&gt;chord '((h c4 ten) (q d4 stacc e4 stacc)) 'c4e4g4 :position :bottom :section '(0)) </pre>
<p>
Using a list of different chords 
 </p>
<pre>
    (line-&gt;chord '(h c4 ten q d4 stacc e4 stacc) '(c4e4g4bb4 c4e4a4 c4)) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234009">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
chord-&gt;line&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence position</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Transforms chords in `sequence' into single notes, extracting the chord pitch at `position' (or the closest pitch, if there is no pitch at `position'). 
 
 </p>
<h4>
Arguments: </h4>
<p>
</p>
<ul>
<li>
<p>
sequence (OMN seq) 
 </p>
</li>
<li>
<p>
position (0-based integer) 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<p>
</p>
<pre>
    (chord-&gt;line '((h c4e4g4 q) (h.)) 0) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234010">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
gen-ambitus-sequence&nbsp;&nbsp;</td>
<td class="lambda-list">
lows highs</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns a sequence of ambitus pairs, where the first element follows the given low and the second element the given high values. If one of the lists is shorter then it is circled. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<p>
lows (list of integers or pitches) 
 highs (list of integers or pitches) 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<p>
(gen-ambitus-sequence '(0 1 2 3) '(5)) 
 =&gt; ((0 5) (1 5) (2 5) (3 5)) 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234011">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
ambitus-field-fenv&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence ambitus-low ambitus-range <em>&amp;key</em> (chord-ambitus 13) section</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Variant of built-in function `ambitus-field': this function compresses or expanded the pitch range of the given `sequence', and the boundaries how much this compression/expansion happens can be changed over time with fenvs or value lists. This is a useful function for shaping musical results before harmonic revision. 
 </p>
<p>
Note that a change of ambitus values happens only per sublist (bar), which is not really a restriction, as multiple pitches are required to fill a given range. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<p>
</p>
<ul>
<li>
<p>
sequence (nested OMN expression) 
 </p>
</li>
<li>
<p>
ambitus-low (fenv or list of integers or pitches): specifies the evolving lower boundary 
 </p>
</li>
<li>
<p>
ambitus-range (fenv, int or list of ints): specifies the evolving distance between the lower and upper boundary 
 </p>
</li>
<li>
<p>
chord-ambitus (integer): max interval between lowest and highest tone of chords to restrict chords to playable range for keyboard player. 
 </p>
</li>
</ul>
<p>
If the argument section is given, then only `(length section)' samples are taken from ambitus-low ambitus-range (if these are fenvs). In other words, in that case the fenv does not range across the full `sequence', but only the selected sections. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<p>
Static ambitus-range 
 </p>
<pre>
    (ambitus-field-fenv (gen-repeat 4 '((q c4 e4 g4))) 
     		    (fenv:linear-fenv (0 0) (1 12)) 12) </pre>
<p>
Evolving range 
 </p>
<pre>
    (ambitus-field-fenv (gen-repeat 4 '((q c4 e4 g4))) 
     		    (fenv:linear-fenv (0 0) (1 12)) 
     		    (fenv:linear-fenv (0 12) (1 4))) </pre>
<p>
Note that the spread of chords is adapted to the given range 
 </p>
<pre>
    (ambitus-field-fenv (gen-repeat 4 '((q c4e4g4 b4))) 
     		    (fenv:linear-fenv (0 0) (1 12)) 12) </pre>
<p>
</p>
<pre>
    (ambitus-field-fenv (gen-repeat 4 '((q c4e4g4 b4))) 
     		    (fenv:linear-fenv (0 0) (1 12)) 7) </pre>
<p>
However, the spread intervals within chords is automatically adapted to stay within a keyboard players hands. 
 </p>
<pre>
    (ambitus-field-fenv (gen-repeat 4 '((q c4e4g4 b4))) 
     		    (fenv:linear-fenv (0 0) (1 12)) 25) </pre>
<p>
This setting can be adjusted with the argument `chord-ambitus' 
 </p>
<pre>
    (ambitus-field-fenv (gen-repeat 4 '((q c4e4g4 b4))) 
     		    (fenv:linear-fenv (0 0) (1 12)) 
     		    25 :chord-ambitus 15) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g234012">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
thomassen-accents&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence <em>&amp;optional</em> (format :omn)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Expects an OMN sequence (or a different format, see below), and returns a *flat* list of floats representing the associated melodic accent value of each pitch as defined by the Thomassen model. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
format (keyword): sets the format of `sequence'. 
 </p>
<ul>
<li>
<p>
<span class="keyword">
:omn </span>
- full OMN sequence, possibly nested (though the result will be flat) 
 </p>
</li>
<li>
<p>
<span class="keyword">
:pitch </span>
- list of OMN pitches, possibly nested 
 </p>
</li>
<li>
<p>
<span class="keyword">
:midi </span>
- list of MIDI note numbers 
 </p>
</li>
</ul>
</li>
</ul>
<p>
Note that no accent values are available for the first two and the last pitch, therefor nil is return for those pitches. 
 </p>
<p>
</p>
<h4>
Notes: </h4>
<p>
Hack: Quick evaluation: strong melodic accents have an accent value greater than 0.4. 
 </p>
<p>
</p>
<ul>
<li>
<p>
Thomassen, J. M. (1982) Melodic accent: Experiments and a tentative model. The Journal of the Acoustical Society of America. 71 (6), 1596–1605. 
 </p>
</li>
<li>
<p>
Huron, D. &amp; Royal, M. (1996) What is melodic accent? Converging evidence from musical practice. Music Perception. 489–516. 
 </p>
</li>
</ul>
</div>
</div>
</div>
<div class="cludg-footer">
Generated by&nbsp;<a href="mailto:ihatchondo@common-lisp.net" lang="en">
CLDOC</a>
- 2018-08-30 10:30:17</div>
</body>
</html>
