<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
<link rel="Stylesheet" type="text/css" href="../cludg.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>
pitch</title>
</head>
<body>
<div id="navbar">
<table cellspacing="0" cellpadding="0" border="0" style="width: 100%;">
<colgroup span="3">
<col width="0*"/>
<col width="0*"/>
<col width="1*"/>
</colgroup>
<tr>
<td align="left" valign="baseline">
<a href="rhythm.html">
Prev:&nbsp;rhythm</a>
<br/>
<a href="velocity.html">
Next:&nbsp;velocity</a>
</td>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left" valign="baseline">
<span class="upchain">
<b>
pitch</b>
<br/>
<a href="../index.html">
Index</a>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<div class="cludg-doc-body">
<h2>
pitch
</h2>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Function summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248872">
chord-multiplication</a>
</td>
<td class="summary">
chord1 chord2</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248877">
fenv-&gt;pitches</a>
</td>
<td class="summary">
fenv n</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248878">
fenv-transpose-pitch</a>
</td>
<td class="summary">
sequence fenv <em>&amp;rest</em> args</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248881">
make-is-trill-length?</a>
</td>
<td class="summary">
length</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248869">
pc-&gt;pitch</a>
</td>
<td class="summary">
pc octave</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248870">
pcs-&gt;chord</a>
</td>
<td class="summary">
pcs <em>&amp;optional</em> (octave 4)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248871">
pitch-&gt;pc</a>
</td>
<td class="summary">
pitch</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248879">
pitch-retrograde-omn</a>
</td>
<td class="summary">
sequence <em>&amp;key</em> (flat t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248876">
pitches-&gt;fenv</a>
</td>
<td class="summary">
pitches</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248875">
spectra-transpositions-fitting-in-scale</a>
</td>
<td class="summary">
spectra scale</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248873">
stretch-pitches</a>
</td>
<td class="summary">
pitches factor <em>&amp;key</em> (round t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248874">
stretch-pitches2</a>
</td>
<td class="summary">
number chord factor <em>&amp;key</em> (round t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248882">
thomassen-accents</a>
</td>
<td class="summary">
sequence <em>&amp;optional</em> (format :omn)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g248880">
trill-selected-notes</a>
</td>
<td class="summary">
sequence test <em>&amp;key</em> (interval 2) (ignore-articulations '(marc))</td>
</tr>
</table>
<div class="defun">
<div class="defunsignatures">
<a id="_g248869">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pc-&gt;pitch&nbsp;&nbsp;</td>
<td class="lambda-list">
pc octave</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Converts the pitch class `pc' into an OMN pitch in the given `octave'. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (pc-&gt;pitch 1 4) 
     =&gt; cs4 </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248870">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pcs-&gt;chord&nbsp;&nbsp;</td>
<td class="lambda-list">
pcs <em>&amp;optional</em> (octave 4)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Expects a list of pitch class integers and returns an Opusmodus chord symbol. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (pcs-&gt;chord '(0 4 7)) 
     =&gt; c4e4g4 </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248871">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitch-&gt;pc&nbsp;&nbsp;</td>
<td class="lambda-list">
pitch</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Converts the OMN pitch `pitch' into a pitch class integer 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248872">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
chord-multiplication&nbsp;&nbsp;</td>
<td class="lambda-list">
chord1 chord2</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Boulez's multiplication of chords. The intervals of `chord1' are built over every pitch of `chord2'. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<p>
Over every pitch of the C-major triad (chord2) the fifths of chord1 is created. 
 </p>
<p>
</p>
<pre>
    (chord-multiplication '(d4 a4) '(c4 e4 g4)) </pre>
<p>
</p>
<h4>
Notes: </h4>
<p>
Boulez, Pierre (1963) Musikdenken heute. Schott's Söhne, Mainz. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248873">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
stretch-pitches&nbsp;&nbsp;</td>
<td class="lambda-list">
pitches factor <em>&amp;key</em> (round t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Proportional streching/shrinking of intervals. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
pitches: list of Opusmodus pitches 
 </p>
</li>
<li>
<p>
factor (integer, float or fraction): Factor by which all but the first `pitches' are stretched or shrunk. 
 </p>
</li>
<li>
<p>
round: whether or not to round the result to semitones. Must be T for now, but in future when Opusmodus supports microtonal music this might be refined. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<p>
</p>
<pre>
    (stretch-pitches '(c4 e4 g4) 2) 
      
     (stretch-pitches '(c4 e4 g4) 1.5) 
      
     (stretch-pitches '(c4 e4 g4) 2/3)   </pre>
<p>
</p>
<h4>
Notes: </h4>
<p>
Boulez, Pierre (1963) Musikdenken heute. Schott's Söhne, Mainz. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248874">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
stretch-pitches2&nbsp;&nbsp;</td>
<td class="lambda-list">
number chord factor <em>&amp;key</em> (round t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Creates `number' derivates from chord following a procedure suggested by Giacomo Manzoni where the chord intervals are systematically stretched or shrunk. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
number (int): number of chords to generate. 
 </p>
</li>
<li>
<p>
chord: list of Opusmodus pitches 
 </p>
</li>
<li>
<p>
factor (integer, float or fraction): controls the interval between resulting chord pitches. If 1, the first chord interval is increased by 1 semitone, the second by 2 and so on. If 2, the first interval is increased by 2 semitones, the second by 4 etc. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<p>
</p>
<pre>
    (stretch-pitches2 5 '(c4 e4 g4) 1) 
      
     (stretch-pitches2 5 '(c4 e4 g4) 1.5) </pre>
<p>
</p>
<h4>
Notes: </h4>
<p>
Series of conferences by Giacomo Manzoni at Fiesole (Florence, Italy) School of Music from 26th of June to 1st of July, 1988. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248875">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
spectra-transpositions-fitting-in-scale&nbsp;&nbsp;</td>
<td class="lambda-list">
spectra scale</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Function for generating a chord/spectral domain. Returns all transpositions of the given spectral that fit in the given scale (i.e., all their pitch classes are contained in the scale). 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
spectra (OMN chords): a list of untransposed spectra 
 </p>
</li>
<li>
<p>
scale (OMN pitch list) 
 
 </p>
</li>
</ul>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248876">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitches-&gt;fenv&nbsp;&nbsp;</td>
<td class="lambda-list">
pitches</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Translates a sequence of pitches into a fenv that linearily inerpolates between the pitches. Fenv values encode pitches by their corresponding MIDI note. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248877">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
fenv-&gt;pitches&nbsp;&nbsp;</td>
<td class="lambda-list">
fenv n</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Translates a fenv into a sequence of pitches. Fenv values encode pitches by their corresponding MIDI note. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248878">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
fenv-transpose-pitch&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence fenv <em>&amp;rest</em> args</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Transposes pitches in sequence by their corresponding fenv value. 
 
 </p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
sequence: (possibly nested) list of pitches or OMN expression 
 </p>
</li>
<li>
<p>
fenv: a fenv that ranges over the full sequence; mapping of notes to fenv value by position in sequence (not temporal position); intervals are specified in semitones; intervals are rounded to their closes integer 
 
 All arguments of pitch-transpose-n are supported as well. 
 </p>
</li>
</ul>
<p>
</p>
<h4>
Examples: </h4>
<pre>
    (fenv-transpose-pitch '(c4 c4 g4 g4) (fenv:linear-fenv (0 0) (1 2))) 
     =&gt; (c4 cs4 gs4 a4) </pre>
<p>
</p>
<pre>
    (fenv-transpose-pitch '(c4 c4 g4 g4) (fenv:linear-fenv (0 0) (1 2)) :ambitus '(d4 a4)) 
     =&gt; (d4 eb4 gs4 a4) </pre>
<p>
</p>
<pre>
    (fenv-transpose-pitch '((q c4 e c4 g4) (h g4)) (fenv:linear-fenv (0 0) (1 2))) 
     =&gt; ((q c4 e cs4 gs4) (h a4)) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248879">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitch-retrograde-omn&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence <em>&amp;key</em> (flat t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
My version of pitch-retrograde that is working until the original is fixed for OMN expressions with flattened input. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248880">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
trill-selected-notes&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence test <em>&amp;key</em> (interval 2) (ignore-articulations '(marc))</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Increases rhythmic interest by subdividing all notes that meet the function test and turning these into a trill. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
sequence: nested OMN sequence 
 </p>
</li>
<li>
<p>
test: function expecting four arguments of a given note, its length, pitch, velocity and articulation. 
 </p>
</li>
<li>
<p>
interval: integer specifying size and direction of trill interval (positive is up, negative is down). 
 </p>
</li>
<li>
<p>
ignore-articulations: list of articulations not to repeat at inserted notes. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<pre>
    (trill-selected-notes '((q c4 e e) (q d4 e e)) (make-is-trill-length? 'e)) 
     =&gt; ((q c4 mf 1/16 c4 mf 1/16 d4 mf 1/16 c4 mf 1/16 d4 mf) (q d4 mf 1/16 d4 mf 1/16 e4 mf 1/16 d4 mf 1/16 e4 mf)) </pre>
<p>

 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248881">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
make-is-trill-length?&nbsp;&nbsp;</td>
<td class="lambda-list">
length</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
[Helper function for trill-selected-notes] Returns a function to be used as `test' argument for function `trill-selected-notes'. The returned function returns true for all notes of the given `length'. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g248882">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
thomassen-accents&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence <em>&amp;optional</em> (format :omn)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Expects an OMN sequence (or a different format, see below), and returns a *flat* list of floats representing the associated melodic accent value of each pitch as defined by the Thomassen model. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
format (keyword): sets the format of `sequence'. 
 </p>
<ul>
<li>
<p>
<span class="keyword">
:omn </span>
- full OMN sequence, possibly nested (though the result will be flat) 
 </p>
</li>
<li>
<p>
<span class="keyword">
:pitch </span>
- list of OMN pitches, possibly nested 
 </p>
</li>
<li>
<p>
<span class="keyword">
:midi </span>
- list of MIDI note numbers 
 </p>
</li>
</ul>
</li>
</ul>
<p>
Note that no accent values are available for the first two and the last pitch, therefor nil is return for those pitches. 
 </p>
<p>
</p>
<h4>
Notes: </h4>
<p>
Hack: Quick evaluation: strong melodic accents have an accent value greater than 0.4. 
 </p>
<p>
</p>
<ul>
<li>
<p>
Thomassen, J. M. (1982) Melodic accent: Experiments and a tentative model. The Journal of the Acoustical Society of America. 71 (6), 1596–1605. 
 </p>
</li>
<li>
<p>
Huron, D. &amp; Royal, M. (1996) What is melodic accent? Converging evidence from musical practice. Music Perception. 489–516. 
 </p>
</li>
</ul>
</div>
</div>
</div>
<div class="cludg-footer">
Generated by&nbsp;<a href="mailto:ihatchondo@common-lisp.net" lang="en">
CLDOC</a>
- 2018-07-29 18:14:23</div>
</body>
</html>
