<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
<link rel="Stylesheet" type="text/css" href="../cludg.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>
utils</title>
</head>
<body>
<div id="navbar">
<table cellspacing="0" cellpadding="0" border="0" style="width: 100%;">
<colgroup span="3">
<col width="0*"/>
<col width="0*"/>
<col width="1*"/>
</colgroup>
<tr>
<td align="left" valign="baseline">
<a href="slippery-chicken.html">
Prev:&nbsp;slippery-chicken</a>
<br/>
<a href="OMN-utils.html">
Next:&nbsp;OMN-utils</a>
</td>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left" valign="baseline">
<span class="upchain">
<b>
utils</b>
<br/>
<a href="../index.html">
Index</a>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<div class="cludg-doc-body">
<h2>
utils
</h2>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Function summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="utils.html#_g339538">
circle-repeat</a>
</td>
<td class="summary">
pattern n</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="utils.html#_g339539">
insert-at-position</a>
</td>
<td class="summary">
position item list <em>&amp;key</em> seed</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="utils.html#_g339540">
keyword-to-om-symbol</a>
</td>
<td class="summary">
key</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="utils.html#_g339536">
mapcar-nested</a>
</td>
<td class="summary">
fn <em>&amp;rest</em> nested-lists</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="utils.html#_g339537">
matrix-transpose*</a>
</td>
<td class="summary">
<em>&amp;rest</em> lists</td>
</tr>
</table>
<div class="defun">
<div class="defunsignatures">
<a id="_g339536">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
mapcar-nested&nbsp;&nbsp;</td>
<td class="lambda-list">
fn <em>&amp;rest</em> nested-lists</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
A simplified equivalent of mapcar, but expects nested lists (as common for OMN parameter lists). All lists in nested-lists must be nested equally. 
 </p>
<p>
</p>
<h4>
Examples: </h4>
<p>

 </p>
<pre>
    (mapcar-nested #'(lambda (x) (* x 2)) '((1/4 1/8 1/8) (1/2))) 
     =&gt; ((1/2 1/4 1/4) (1)) </pre>
<p>
Using the built-in Opusmodus function `span' to ensure an equal nesting of value lists 
 </p>
<pre>
    (let* ((ls '((1/4 1/8 1/8) (1/2))) 
            (factors (span ls '(2 3)))) 
       (mapcar-nested #'* ls factors)) 
     =&gt; ((1/2 3/8 1/4) (3/2)) </pre>
<p>

 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g339537">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
matrix-transpose*&nbsp;&nbsp;</td>
<td class="lambda-list">
<em>&amp;rest</em> lists</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Variant of matrix-transpose that is more allowing in terms of its input. The function performs a matrix transformation, but input lists can be of different length (shorter lists are then circled through) or even mere elements (internally turned into a list by repeating the element). 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
lists: individual elements or lists 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<p>
(matrix-transpose* '(0 1 2 3) 5) 
 =&gt; ((0 5) (1 5) (2 5) (3 5)) 
 </p>
<p>
(matrix-transpose* '(0 1 2 3) '(a b) '_) 
 =&gt; ((0 a _) (1 b _) (2 a _) (3 b _)) 
 </p>
<p>
</p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g339538">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
circle-repeat&nbsp;&nbsp;</td>
<td class="lambda-list">
pattern n</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Circle through elements in pattern (a list) until n elements are collected. 
 </p>
<p>
NOTE: only supports flat list so far. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
pattern: a list or single value treated as a one-value list 
 </p>
</li>
<li>
<p>
n: an integer 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<p>
</p>
<pre>
    (circle-repeat '(bb4 g4) 10) 
     =&gt; (bb4 g4 bb4 g4 bb4 g4 bb4 g4 bb4 g4) </pre>
<p>
The function span can do something very similar. 
 </p>
<p>
</p>
<pre>
    (span (gen-repeat 10 'x) '(bb4 g4)) </pre>
<p>
See also Opusmodus buildin gen-trim, which does the same, but is overall more flexible. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g339539">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
insert-at-position&nbsp;&nbsp;</td>
<td class="lambda-list">
position item list <em>&amp;key</em> seed</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Insert item(s) at given position into list. 
 </p>
<p>
</p>
<h4>
Arguments: </h4>
<ul>
<li>
<p>
position: either symbol 's (start), 'e (end) or '? (random position), or integer specifying position. 
 </p>
</li>
<li>
<p>
item: value or list of values to be inserted. 
 </p>
</li>
<li>
<p>
list: flat list of values. 
 </p>
</li>
</ul>
<h4>
Examples: </h4>
<pre>
    (insert-at-position 'e 'x '(a a a a)) 
     (insert-at-position 's 'x '(a a a a)) 
     (insert-at-position '? 'x '(a a a a)) 
     (insert-at-position 'e '(x y) '(a a a a)) 
     (insert-at-position '0 '(x y) '(a a a a)) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g339540">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
keyword-to-om-symbol&nbsp;&nbsp;</td>
<td class="lambda-list">
key</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Translates the keyword `key' into a symbol of the Opusmodus package 
 </p>
</div>
</div>
</div>
<div class="cludg-footer">
Generated by&nbsp;<a href="mailto:ihatchondo@common-lisp.net" lang="en">
CLDOC</a>
- 2021-03-30 20:31:35</div>
</body>
</html>
