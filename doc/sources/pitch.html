<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
<link rel="Stylesheet" type="text/css" href="../cludg.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>
pitch</title>
</head>
<body>
<div id="navbar">
<table cellspacing="0" cellpadding="0" border="0" style="width: 100%;">
<colgroup span="3">
<col width="0*"/>
<col width="0*"/>
<col width="1*"/>
</colgroup>
<tr>
<td align="left" valign="baseline">
<a href="rhythm.html">
Prev:&nbsp;rhythm</a>
<br/>
<a href="velocity.html">
Next:&nbsp;velocity</a>
</td>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left" valign="baseline">
<span class="upchain">
<b>
pitch</b>
<br/>
<a href="../index.html">
Index</a>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<div class="cludg-doc-body">
<h2>
pitch
</h2>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Function summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179263">
chord-multiplication</a>
</td>
<td class="summary">
chord1 chord2</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179267">
fenv-&gt;pitches</a>
</td>
<td class="summary">
fenv n</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179268">
fenv-transpose-pitch</a>
</td>
<td class="summary">
sequence fenv <em>&amp;rest</em> args</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179262">
pcs-&gt;chord</a>
</td>
<td class="summary">
pcs</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179269">
pitch-retrograde-omn</a>
</td>
<td class="summary">
sequence <em>&amp;key</em> (flat t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179266">
pitches-&gt;fenv</a>
</td>
<td class="summary">
pitches</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179264">
stretch-pitches</a>
</td>
<td class="summary">
pitches factor <em>&amp;key</em> (round t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179265">
stretch-pitches2</a>
</td>
<td class="summary">
number chord factor <em>&amp;key</em> (round t)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="pitch.html#_g179270">
thomassen-accents</a>
</td>
<td class="summary">
sequence <em>&amp;optional</em> (format :omn)</td>
</tr>
</table>
<div class="defun">
<div class="defunsignatures">
<a id="_g179262">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pcs-&gt;chord&nbsp;&nbsp;</td>
<td class="lambda-list">
pcs</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Expects a list of pitch class integers and returns an Opusmodus chord symbol. 
 </p>
<p>
Example: 
 (pcs-&gt;chord '(0 4 7)) 
 =&gt; c4e4g4 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g179263">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
chord-multiplication&nbsp;&nbsp;</td>
<td class="lambda-list">
chord1 chord2</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Boulez's multiplication of chords. The intervals of `chord1' are built over every pitch of `chord2'. 
 </p>
<p>
Example: 
 </p>
<p>
Over every pitch of the C-major triad (chord2) the fifths of chord1 is created. 
 </p>
<p>
</p>
<pre>
    (chord-multiplication '(d4 a4) '(c4 e4 g4)) </pre>
<p>
References: 
 </p>
<p>
Boulez, Pierre (1963) Musikdenken heute. Schott's Söhne, Mainz. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g179264">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
stretch-pitches&nbsp;&nbsp;</td>
<td class="lambda-list">
pitches factor <em>&amp;key</em> (round t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Proportional streching/shrinking of intervals. 
 </p>
<p>
Args: 
 </p>
<ul>
<li>
<p>
pitches: list of Opusmodus pitches 
 </p>
</li>
<li>
<p>
factor (integer, float or fraction): Factor by which all but the first `pitches' are stretched or shrunk. 
 </p>
</li>
<li>
<p>
round: whether or not to round the result to semitones. Must be T for now, but in future when Opusmodus supports microtonal music this might be refined. 
 </p>
</li>
</ul>
<p>
Examples: 
 </p>
<p>
</p>
<pre>
    (stretch-pitches '(c4 e4 g4) 2) 
      
     (stretch-pitches '(c4 e4 g4) 1.5) 
      
     (stretch-pitches '(c4 e4 g4) 2/3)   </pre>
<p>
References: 
 </p>
<p>
Boulez, Pierre (1963) Musikdenken heute. Schott's Söhne, Mainz. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g179265">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
stretch-pitches2&nbsp;&nbsp;</td>
<td class="lambda-list">
number chord factor <em>&amp;key</em> (round t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Creates `number' derivates from chord following a procedure suggested by Giacomo Manzoni where the chord intervals are systematically stretched or shrunk. 
 </p>
<p>
Args: 
 </p>
<ul>
<li>
<p>
number (int): number of chords to generate. 
 </p>
</li>
<li>
<p>
chord: list of Opusmodus pitches 
 </p>
</li>
<li>
<p>
factor (integer, float or fraction): controls the interval between resulting chord pitches. If 1, the first chord interval is increased by 1 semitone, the second by 2 and so on. If 2, the first interval is increased by 2 semitones, the second by 4 etc. 
 </p>
</li>
</ul>
<p>
Examples: 
 </p>
<p>
</p>
<pre>
    (stretch-pitches2 5 '(c4 e4 g4) 1) 
      
     (stretch-pitches2 5 '(c4 e4 g4) 1.5) </pre>
<p>
References: 
 </p>
<p>
Series of conferences by Giacomo Manzoni at Fiesole (Florence, Italy) School of Music from 26th of June to 1st of July, 1988. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g179266">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitches-&gt;fenv&nbsp;&nbsp;</td>
<td class="lambda-list">
pitches</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Translates a sequence of pitches into a fenv that linearily inerpolates between the pitches. Fenv values encode pitches by their corresponding MIDI note. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g179267">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
fenv-&gt;pitches&nbsp;&nbsp;</td>
<td class="lambda-list">
fenv n</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Translates a fenv into a sequence of pitches. Fenv values encode pitches by their corresponding MIDI note. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g179268">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
fenv-transpose-pitch&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence fenv <em>&amp;rest</em> args</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Transposes pitches in sequence by their corresponding fenv value. 
 
 Args: 
 </p>
<ul>
<li>
<p>
sequence: (possibly nested) list of pitches or OMN expression 
 </p>
</li>
<li>
<p>
fenv: a fenv that ranges over the full sequence; mapping of notes to fenv value by position in sequence (not temporal position); intervals are specified in semitones; intervals are rounded to their closes integer 
 All arguments of pitch-transpose-n are supported as well. 
 </p>
</li>
</ul>
<p>
Examples: 
 </p>
<pre>
    (fenv-transpose-pitch '(c4 c4 g4 g4) (linear-fenv (0 0) (1 2))) 
     =&gt; (c4 cs4 gs4 a4) </pre>
<p>
</p>
<pre>
    (fenv-transpose-pitch '(c4 c4 g4 g4) (linear-fenv (0 0) (1 2)) :ambitus '(d4 a4)) 
     =&gt; (d4 eb4 gs4 a4) </pre>
<p>
</p>
<pre>
    (fenv-transpose-pitch '((q c4 e c4 g4) (h g4)) (linear-fenv (0 0) (1 2))) 
     =&gt; ((q c4 e cs4 gs4) (h a4)) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g179269">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
pitch-retrograde-omn&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence <em>&amp;key</em> (flat t)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
My version of pitch-retrograde that is working until the original is fixed for OMN expressions with flattened input. 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g179270">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
thomassen-accents&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence <em>&amp;optional</em> (format :omn)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Expects an OMN sequence (or a different format, see below), and returns a *flat* list of floats representing the associated melodic accent value of each pitch as defined by the Thomassen model. 
 </p>
<p>
Args: 
 </p>
<ul>
<li>
<p>
format (keyword): sets the format of `sequence'. 
 </p>
</li>
<li>
<p>
<span class="keyword">
:omn </span>
- full OMN sequence, possibly nested (though the result will be flat) 
 </p>
</li>
<li>
<p>
<span class="keyword">
:pitch </span>
- list of OMN pitches, possibly nested 
 </p>
</li>
<li>
<p>
<span class="keyword">
:midi </span>
- list of MIDI note numbers 
 </p>
</li>
</ul>
<p>
NOTE: no accent values are available for the first two and the last pitch, therefor nil is return for those pitches. 
 </p>
<p>
Hack: Quick evaluation: strong melodic accents have an accent value greater than 0.4. 
 </p>
<p>
References: 
 Thomassen, J. M. (1982) Melodic accent: Experiments and a tentative model. The Journal of the Acoustical Society of America. 71 (6), 1596–1605. 
 Huron, D. &amp; Royal, M. (1996) What is melodic accent? Converging evidence from musical practice. Music Perception. 489–516. 
 </p>
</div>
</div>
</div>
<div class="cludg-footer">
Generated by&nbsp;<a href="mailto:ihatchondo@common-lisp.net" lang="en">
CLDOC</a>
- 2018-04-20 15:26:27</div>
</body>
</html>
