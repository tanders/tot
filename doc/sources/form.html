<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
<link rel="Stylesheet" type="text/css" href="../cludg.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>
form</title>
</head>
<body>
<div id="navbar">
<table cellspacing="0" cellpadding="0" border="0" style="width: 100%;">
<colgroup span="3">
<col width="0*"/>
<col width="0*"/>
<col width="1*"/>
</colgroup>
<tr>
<td align="left" valign="baseline">
<a href="constraints.html">
Prev:&nbsp;constraints</a>
<br/>
<a href="orchestration.html">
Next:&nbsp;orchestration</a>
</td>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left" valign="baseline">
<span class="upchain">
<b>
form</b>
<br/>
<a href="../index.html">
Index</a>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<div class="cludg-doc-body">
<h2>
form
</h2>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Function summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="form.html#_g180494">
condense</a>
</td>
<td class="summary">
sequence test <em>&amp;key</em> (section nil)</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="form.html#_g180493">
developing-substitute</a>
</td>
<td class="summary">
map sequence otherwise</td>
</tr>
</table>
<div class="defun">
<div class="defunsignatures">
<a id="_g180493">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
developing-substitute&nbsp;&nbsp;</td>
<td class="lambda-list">
map sequence otherwise</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns a transformation of `sequence', where elements that match entries given in `map' are replaced with given new items, and -- if not contained in map -- with an `otherwise' element. However, this function allows for replacements that develop over time and where the sequence of the developments could be generated algorithmically by other functions: When multiple new and otherwise replacements are given, these are used by and by in their given order (circulating, if the end of the given sequence is reached). 
 
 Replacements in the mapping can also be specified by functions returning the necessary replacement. 
 </p>
<p>
Note that sequence elements to replace can be arbitrary values, including subsequences. 
 
 </p>
<p>
Args: 
 </p>
<ul>
<li>
<p>
map: old-new pairs (list of two-element lists) 
 </p>
</li>
<li>
<p>
sequence: sequence (list) to transform 
 </p>
</li>
<li>
<p>
otherwise: flat list of alternative replacements. Per sublist, only a single replacement value is chosen. 
 </p>
</li>
</ul>
<p>
Examples: 
 </p>
<pre>
    (developing-substitute '((1 (a b c)) 
       			     (2 (h i j))) 
                            '(1 1 2 1 3 2 1) 
                            '(x y z)) 
     =&gt; (a b h c x i a) </pre>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g180494">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
condense&nbsp;&nbsp;</td>
<td class="lambda-list">
sequence test <em>&amp;key</em> (section nil)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Beethoven-like condensation of music. All notes for which a given test function returns true are removed, and their preceeding note is extended by their duration. 
 </p>
<p>
Args: 
 </p>
<ul>
<li>
<p>
test: Boolean function expecting individual parameters of each note in `OMN' 
 </p>
</li>
<li>
<p>
sequence: An OMN sequence 
 </p>
</li>
</ul>
<p>
Example: 
 </p>
<p>
</p>
<pre>
    (setf my-motif '((q. c4 e d4 q. e4 e f4) (h g4 -h))) </pre>
<p>
</p>
<pre>
    (condense my-motif 
               #'(lambda (dur pitch &amp;rest other-args)   
                   (&gt; (omn-encode dur) 1/4))) </pre>
</div>
</div>
</div>
<div class="cludg-footer">
Generated by&nbsp;<a href="mailto:ihatchondo@common-lisp.net" lang="en">
CLDOC</a>
- 2017-08-27 12:17:13</div>
</body>
</html>
